## PaperclAIp

Your intelligent clipboard companion for desktop. PaperclAIp watches your clipboard in real time, saves entries locally (optional MySQL), and uses AI to generate consistent tags so you can search and resurface what you copied.

### Features
- Intelligent clipboard monitoring with real-time updates
- AI-powered tag generation using Google Gemini (optional)
- Search clipboard history by tag (Spotlight-like)
- Clean, responsive UI built with React + Tailwind CSS
- Cross‑platform packaging with Electron Builder (macOS, Windows, Linux)

### Tech stack
- Electron (Main, Preload, Renderer)
- React + Vite + TypeScript + Tailwind CSS
- Optional MySQL (via `mysql2`) for persistent storage
- Google Gemini API for tag generation
---
### Demo

https://github.com/user-attachments/assets/019cda7b-d420-4898-b74f-9207392e670c


---

## Quick start

1) Install dependencies

```bash
npm install
```

2) Configure environment variables

- Copy `sample.env` to `.env` and adjust as needed, or create a new `.env` at project root.
- MySQL and Gemini are optional; the app runs without them, but DB-backed history and AI tags will be disabled if not configured.

```bash
cp sample.env .env
```

3) Start in development

```bash
npm run dev
```

This launches:
- Vite dev server for the renderer
- TypeScript build for Electron main/preload
- Electron app pointed at the dev server

---

## Environment

Create a `.env` in the project root. See `sample.env` for a starter. Relevant variables:

```ini
# Optional: enable persistent storage
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=changeme
MYSQL_DATABASE=paperclaip

# Optional: enable AI tagging via Gemini
# One of these will be read (both are supported):
GEMINI_API_KEY=your_api_key
# or
GOOGLE_API_KEY=your_api_key
```

Notes:
- If any MySQL vars are missing, database features are disabled gracefully.
- If no Gemini key is present, AI tagging is skipped.

---

## Scripts

- `npm run dev`: Start renderer (Vite), build main (tsc watch), and launch Electron.
- `npm run build`: Build renderer and Electron main for production.
- `npm run dist`: Generate production installers/bundles for your OS (runs icon generation first).
- `npm run pack`: Build unpacked app directory (useful for debugging packaging).
- `npm run icons`: Regenerate platform icons from the source assets.
- `npm run package`: Convenience script that wraps packaging steps (see `scripts/package-app.sh`).

---

## Build and package

Production build (renderer + main):

```bash
npm run build
```

Create installers/bundles for distribution:

```bash
npm run dist
```

Outputs are configured via Electron Builder in `package.json` and include:
- macOS: `dmg`, `zip` (x64, arm64)
- Windows: `nsis`, `portable` (x64)
- Linux: `AppImage`, `deb` (x64)

Icons are taken from `assets/` (`.icns` for macOS, `.ico` for Windows, `.png` for Linux) and auto-generated by `npm run icons`.

---

## Architecture overview

- `electron/main.ts`: Creates the `BrowserWindow`, watches the OS clipboard, handles global copy shortcut, coordinates AI tagging, and persists to DB via IPC.
- `electron/preload.ts`: Safe bridge exposing `electronAPI` methods to the renderer (`getClipboard`, `setClipboard`, `fetchRecent`, `searchByTag`, `onClipboardChange`).
- `electron/ai.ts`: Minimal Gemini client; builds a prompt and parses tag output. Skips if no API key.
- `electron/db.ts`: MySQL pool and queries; gracefully disables if env vars are missing.
- `src/App.tsx`: React UI (Tailwind). Live clipboard indicator, editor, copy/paste, history with tag search and pagination-like groups.

Data flow (happy path):
1. Clipboard changes → main process detects and broadcasts via IPC.
2. Main process optionally calls Gemini to generate tags with brief recent context.
3. Text (+ tags if any) is stored in MySQL when DB is enabled.
4. Renderer queries recent items and tag search via preload-exposed IPC.

Security considerations:
- Renderer accesses OS/DB only through preload-exposed, limited IPC.
- No remote module usage; dev server URL is injected only in dev.

---

## MySQL setup (optional)

1) Create a database and user with appropriate privileges.

2) Update `.env` with the connection details.

At startup, the app will ensure a table named `clipboard_items` with columns: `id`, `text`, `created_at`, `tags`.

---

## Troubleshooting

- Electron window opens but history is empty
  - Ensure MySQL env vars are set and reachable if you expect persistence.
  - Without DB, the app still works but history/search uses only in-memory events for the session.

- No tags appear
  - Provide `GEMINI_API_KEY` or `GOOGLE_API_KEY` in `.env` and restart.
  - Check network access to `generativelanguage.googleapis.com`.

- Port already in use (5173)
  - Stop the other process or change the dev port in `package.json` → `dev:renderer`.

- Packaging fails on icon formats
  - Run `npm run icons` to regenerate platform icons from `assets/`.

- Windows code signing or Gatekeeper (macOS)
  - This template does not include code signing. You may need to sign binaries for distribution.

---
